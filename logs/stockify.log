2025-06-13 16:30:49 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Starting Stockify using Java 17.0.12 with PID 8136 (C:\Users\ozdem\IdeaProjects\STOCKIFY\target\classes started by ozdem in C:\Users\ozdem\IdeaProjects\STOCKIFY)
2025-06-13 16:30:49 [restartedMain] [tenant:] DEBUG dev.oasis.stockify.Stockify - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-06-13 16:30:49 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - The following 1 profile is active: "dev"
2025-06-13 16:30:49 [restartedMain] [tenant:] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-13 16:30:49 [restartedMain] [tenant:] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-13 16:30:52 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 16:30:52 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 97 ms. Found 3 JPA repository interfaces.
2025-06-13 16:30:54 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-13 16:30:54 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-13 16:30:54 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-06-13 16:30:54 [restartedMain] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-13 16:30:54 [restartedMain] [tenant:] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5679 ms
2025-06-13 16:30:55 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-13 16:30:55 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:stockifydb user=SA
2025-06-13 16:30:55 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-13 16:30:55 [restartedMain] [tenant:] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:stockifydb'
2025-06-13 16:30:56 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantSecurityFilter - Filter 'tenantSecurityFilter' configured for use
2025-06-13 16:30:56 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Filter 'tenantHeaderFilter' configured for use
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - 
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:h2:mem:stockifydb (H2 2.2)
2025-06-13 16:30:56 [restartedMain] [tenant:] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.052s)
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version "1 - init schema"
2025-06-13 16:30:56 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "PUBLIC", now at version v1 (execution time 00:00.115s)
2025-06-13 16:30:57 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Configuring Hibernate multi-tenancy properties
2025-06-13 16:30:57 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Multi-tenancy configuration completed
2025-06-13 16:30:57 [restartedMain] [tenant:] DEBUG o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-06-13 16:30:57 [restartedMain] [tenant:] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 16:30:57 [restartedMain] [tenant:] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-06-13 16:30:57 [restartedMain] [tenant:] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-13 16:30:57 [restartedMain] [tenant:] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-13 16:30:57 [restartedMain] [tenant:] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-13 16:30:59 [restartedMain] [tenant:] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-13 16:30:59 [restartedMain] [tenant:] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:00 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:00 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.AppUserDetailsService.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:01 [restartedMain] [tenant:] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:01 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:31:02 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:02 [restartedMain] [tenant:] INFO  d.o.s.s.StockNotificationService - StockNotificationService initialized. Email service enabled: false
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.markAsRead' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.saveProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateStockLevel' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.deactivateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.activateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.createTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.DataLoader.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.SuperAdminInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:02 [restartedMain] [tenant:] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 16:31:04 [restartedMain] [tenant:] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-06-13 16:31:04 [restartedMain] [tenant:] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d9284d8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1993e03b, org.springframework.security.web.context.SecurityContextHolderFilter@6d95598e, org.springframework.security.web.header.HeaderWriterFilter@120d631b, org.springframework.web.filter.CorsFilter@438798e, org.springframework.security.web.authentication.logout.LogoutFilter@12d991e5, dev.oasis.stockify.config.tenant.TenantHeaderFilter@6fc49613, dev.oasis.stockify.config.tenant.TenantSecurityFilter@2566e1c7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35ec76fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24fc71c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1432de8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b2a2415, org.springframework.security.web.access.ExceptionTranslationFilter@5c1020d0, org.springframework.security.web.access.intercept.AuthorizationFilter@3df06cde]
2025-06-13 16:31:06 [restartedMain] [tenant:] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-13 16:31:06 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-06-13 16:31:06 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Started Stockify in 18.115 seconds (process running for 19.265)
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.SuperAdminInitializer.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1868916840<open>)] for JPA transaction
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56164957]
2025-06-13 16:31:06 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 16:31:06 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:31:06 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - 🔧 Creating super admin user...
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1868916840<open>)] for JPA transaction
2025-06-13 16:31:06 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:06 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:31:07 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - ✅ Super admin user created successfully
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - 📋 Super Admin Credentials:
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer -    Username: superadmin
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer -    Password: superadmin123
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer -    Role: SUPER_ADMIN
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - ⚠️  Please change the password after first login!
2025-06-13 16:31:07 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1868916840<open>)]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1868916840<open>)] after transaction
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.DataLoader.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5af77034]
2025-06-13 16:31:07 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🚀 Starting Multi-Tenant Data Loader...
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 👥 Creating users for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: admin with role: ADMIN for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: operator with role: USER for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 📦 Creating products for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Handmade Ceramic Mug for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Vintage Style Jewelry Box for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1209744787<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Organic Cotton Tote Bag for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ⚙️ Setting up configuration for tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] WARN  d.oasis.stockify.config.DataLoader - ⚠️ Could not initialize config for tenant acme_corp: Table "tenant_config" not found; SQL statement:
INSERT INTO tenant_config (config_key, config_value, config_type, description) VALUES ('tenant_name', 'ACME Corporation', 'STRING', 'Display name for the tenant') ON CONFLICT (config_key) DO NOTHING [42102-224]
2025-06-13 16:31:07 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✨ Successfully initialized tenant: acme_corp
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: global_trade
2025-06-13 16:31:07 [restartedMain] [tenant:global_trade] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: global_trade
2025-06-13 16:31:07 [restartedMain] [tenant:global_trade] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:global_trade] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:31:07 [restartedMain] [tenant:global_trade] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: global_trade, skipping initialization
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: artisan_crafts
2025-06-13 16:31:07 [restartedMain] [tenant:artisan_crafts] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: artisan_crafts
2025-06-13 16:31:07 [restartedMain] [tenant:artisan_crafts] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:artisan_crafts] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:31:07 [restartedMain] [tenant:artisan_crafts] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: artisan_crafts, skipping initialization
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: tech_solutions
2025-06-13 16:31:07 [restartedMain] [tenant:tech_solutions] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: tech_solutions
2025-06-13 16:31:07 [restartedMain] [tenant:tech_solutions] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:31:07 [restartedMain] [tenant:tech_solutions] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:31:07 [restartedMain] [tenant:tech_solutions] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: tech_solutions, skipping initialization
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - ✅ Multi-Tenant Data Loader completed successfully!
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 📊 Initialized 4 tenants with sample data
2025-06-13 16:31:07 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 👥 Each tenant has 2 users and 3 products
2025-06-13 16:31:07 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1209744787<open>)]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1209744787<open>)] after transaction
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(138851180<open>)] for JPA transaction
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@57add6ab]
2025-06-13 16:31:07 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:31:07 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(138851180<open>)]
2025-06-13 16:31:07 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(138851180<open>)] after transaction
2025-06-13 16:32:09 [http-nio-8080-exec-1] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-13 16:32:09 [http-nio-8080-exec-1] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-13 16:32:09 [http-nio-8080-exec-1] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-06-13 16:32:09 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:09 [http-nio-8080-exec-1] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:09 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:09 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:32:09 [http-nio-8080-exec-2] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:09 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:32:11 [http-nio-8080-exec-2] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:11 [http-nio-8080-exec-2] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:11 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:11 [http-nio-8080-exec-3] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:11 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:11 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:32:11 [http-nio-8080-exec-4] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:11 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:32:11 [http-nio-8080-exec-4] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:11 [http-nio-8080-exec-4] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:16 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:16 [http-nio-8080-exec-10] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:16 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:16 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:32:16 [http-nio-8080-exec-8] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:16 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:32:16 [http-nio-8080-exec-8] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:17 [http-nio-8080-exec-8] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:27 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:27 [http-nio-8080-exec-3] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:27 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:27 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:32:27 [http-nio-8080-exec-4] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:27 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:32:27 [http-nio-8080-exec-4] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:27 [http-nio-8080-exec-4] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:30 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:30 [http-nio-8080-exec-1] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:32:30 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:32:30 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:32:30 [http-nio-8080-exec-8] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:30 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:32:30 [http-nio-8080-exec-8] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:32:30 [http-nio-8080-exec-8] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:33:43 [File Watcher] [tenant:] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 4 class path changes (0 additions, 0 deletions, 4 modifications)
2025-06-13 16:33:43 [Thread-5] [tenant:] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 16:33:43 [Thread-5] [tenant:] WARN  o.s.b.f.s.DisposableBeanAdapter - Invocation of destroy method failed on bean with name 'inMemoryDatabaseShutdownExecutor': org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-224]
2025-06-13 16:33:43 [Thread-5] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-13 16:33:43 [Thread-5] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-13 16:33:43 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Starting Stockify using Java 17.0.12 with PID 8136 (C:\Users\ozdem\IdeaProjects\STOCKIFY\target\classes started by ozdem in C:\Users\ozdem\IdeaProjects\STOCKIFY)
2025-06-13 16:33:43 [restartedMain] [tenant:] DEBUG dev.oasis.stockify.Stockify - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-06-13 16:33:43 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - The following 1 profile is active: "dev"
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1272 ms
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection conn12: url=jdbc:h2:mem:stockifydb user=SA
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-06-13 16:33:44 [restartedMain] [tenant:] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:stockifydb'
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantSecurityFilter - Filter 'tenantSecurityFilter' configured for use
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Filter 'tenantHeaderFilter' configured for use
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:h2:mem:stockifydb (H2 2.2)
2025-06-13 16:33:45 [restartedMain] [tenant:] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.002s)
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version "1 - init schema"
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "PUBLIC", now at version v1 (execution time 00:00.026s)
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Configuring Hibernate multi-tenancy properties
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Multi-tenancy configuration completed
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-13 16:33:45 [restartedMain] [tenant:] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.AppUserDetailsService.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:33:45 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:45 [restartedMain] [tenant:] INFO  d.o.s.s.StockNotificationService - StockNotificationService initialized. Email service enabled: false
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.markAsRead' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.saveProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateStockLevel' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.deactivateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.activateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.createTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.DataLoader.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:45 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.SuperAdminInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:46 [restartedMain] [tenant:] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 16:33:46 [restartedMain] [tenant:] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-06-13 16:33:46 [restartedMain] [tenant:] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65d897ff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7351861d, org.springframework.security.web.context.SecurityContextHolderFilter@3c1bd59e, org.springframework.security.web.header.HeaderWriterFilter@cb6f6e0, org.springframework.web.filter.CorsFilter@541f82e4, org.springframework.security.web.authentication.logout.LogoutFilter@3d4dae25, dev.oasis.stockify.config.tenant.TenantHeaderFilter@341d60b1, dev.oasis.stockify.config.tenant.TenantSecurityFilter@533fb5a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@47cfeed5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70d69ecf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@81c7183, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3dc4f4ea, org.springframework.security.web.access.ExceptionTranslationFilter@64614f2a, org.springframework.security.web.access.intercept.AuthorizationFilter@28131e6b]
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Started Stockify in 4.039 seconds (process running for 180.265)
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.SuperAdminInitializer.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(2095506490<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3118e225]
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - 🔧 Creating super admin user...
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(2095506490<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - ✅ Super admin user created successfully
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - 📋 Super Admin Credentials:
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer -    Username: superadmin
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer -    Password: superadmin123
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer -    Role: SUPER_ADMIN
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.o.s.config.SuperAdminInitializer - ⚠️  Please change the password after first login!
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(2095506490<open>)]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(2095506490<open>)] after transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.DataLoader.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5ecd0962]
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🚀 Starting Multi-Tenant Data Loader...
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 👥 Creating users for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: admin with role: ADMIN for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: operator with role: USER for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 📦 Creating products for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Handmade Ceramic Mug for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Vintage Style Jewelry Box for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(1954352064<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Organic Cotton Tote Bag for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ⚙️ Setting up configuration for tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] WARN  d.oasis.stockify.config.DataLoader - ⚠️ Could not initialize config for tenant acme_corp: Table "tenant_config" not found; SQL statement:
INSERT INTO tenant_config (config_key, config_value, config_type, description) VALUES ('tenant_name', 'ACME Corporation', 'STRING', 'Display name for the tenant') ON CONFLICT (config_key) DO NOTHING [42102-224]
2025-06-13 16:33:47 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✨ Successfully initialized tenant: acme_corp
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: global_trade
2025-06-13 16:33:47 [restartedMain] [tenant:global_trade] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: global_trade
2025-06-13 16:33:47 [restartedMain] [tenant:global_trade] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:global_trade] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:33:47 [restartedMain] [tenant:global_trade] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: global_trade, skipping initialization
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: artisan_crafts
2025-06-13 16:33:47 [restartedMain] [tenant:artisan_crafts] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: artisan_crafts
2025-06-13 16:33:47 [restartedMain] [tenant:artisan_crafts] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:artisan_crafts] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:33:47 [restartedMain] [tenant:artisan_crafts] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: artisan_crafts, skipping initialization
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: tech_solutions
2025-06-13 16:33:47 [restartedMain] [tenant:tech_solutions] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: tech_solutions
2025-06-13 16:33:47 [restartedMain] [tenant:tech_solutions] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:33:47 [restartedMain] [tenant:tech_solutions] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:33:47 [restartedMain] [tenant:tech_solutions] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: tech_solutions, skipping initialization
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - ✅ Multi-Tenant Data Loader completed successfully!
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 📊 Initialized 4 tenants with sample data
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 👥 Each tenant has 2 users and 3 products
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1954352064<open>)]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1954352064<open>)] after transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1635354966<open>)] for JPA transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3b485844]
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:33:47 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1635354966<open>)]
2025-06-13 16:33:47 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1635354966<open>)] after transaction
2025-06-13 16:33:47 [restartedMain] [tenant:] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-06-13 16:34:41 [http-nio-8080-exec-4] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-13 16:34:41 [http-nio-8080-exec-4] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-13 16:34:41 [http-nio-8080-exec-4] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 36 ms
2025-06-13 16:34:42 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:34:42 [http-nio-8080-exec-4] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:34:42 [http-nio-8080-exec-6] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:34:42 [http-nio-8080-exec-6] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:34:42 [http-nio-8080-exec-6] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:34:42 [http-nio-8080-exec-6] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:34:42 [http-nio-8080-exec-6] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:34:42 [http-nio-8080-exec-6] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:35:11 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:35:11 [http-nio-8080-exec-2] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:35:11 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:35:11 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:35:11 [http-nio-8080-exec-1] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:35:11 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:35:11 [http-nio-8080-exec-1] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:35:11 [http-nio-8080-exec-1] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:35:11 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:35:11 [http-nio-8080-exec-3] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:35:11 [http-nio-8080-exec-5] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:35:11 [http-nio-8080-exec-5] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:35:11 [http-nio-8080-exec-5] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:35:11 [http-nio-8080-exec-5] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:35:11 [http-nio-8080-exec-5] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:35:11 [http-nio-8080-exec-5] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:52:14 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Starting Stockify using Java 17.0.12 with PID 11064 (C:\Users\ozdem\IdeaProjects\STOCKIFY\target\classes started by ozdem in C:\Users\ozdem\IdeaProjects\STOCKIFY)
2025-06-13 16:52:14 [restartedMain] [tenant:] DEBUG dev.oasis.stockify.Stockify - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-06-13 16:52:14 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - The following 1 profile is active: "dev"
2025-06-13 16:52:15 [restartedMain] [tenant:] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-13 16:52:15 [restartedMain] [tenant:] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-13 16:52:17 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 16:52:17 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 140 ms. Found 3 JPA repository interfaces.
2025-06-13 16:52:20 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-13 16:52:20 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-13 16:52:20 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-06-13 16:52:20 [restartedMain] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-13 16:52:20 [restartedMain] [tenant:] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5598 ms
2025-06-13 16:52:21 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-13 16:52:21 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:stockifydb user=SA
2025-06-13 16:52:21 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-13 16:52:21 [restartedMain] [tenant:] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:stockifydb'
2025-06-13 16:52:22 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantSecurityFilter - Filter 'tenantSecurityFilter' configured for use
2025-06-13 16:52:22 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Filter 'tenantHeaderFilter' configured for use
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - 
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:h2:mem:stockifydb (H2 2.2)
2025-06-13 16:52:22 [restartedMain] [tenant:] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.062s)
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
2025-06-13 16:52:22 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version "1 - init schema"
2025-06-13 16:52:23 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "PUBLIC", now at version v1 (execution time 00:00.113s)
2025-06-13 16:52:23 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Configuring Hibernate multi-tenancy properties
2025-06-13 16:52:23 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Multi-tenancy configuration completed
2025-06-13 16:52:23 [restartedMain] [tenant:] DEBUG o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-06-13 16:52:23 [restartedMain] [tenant:] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 16:52:23 [restartedMain] [tenant:] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-06-13 16:52:23 [restartedMain] [tenant:] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-13 16:52:24 [restartedMain] [tenant:] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-13 16:52:24 [restartedMain] [tenant:] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-13 16:52:26 [restartedMain] [tenant:] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-13 16:52:26 [restartedMain] [tenant:] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:27 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:28 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.AppUserDetailsService.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:28 [restartedMain] [tenant:] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:28 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 16:52:29 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:29 [restartedMain] [tenant:] INFO  d.o.s.s.StockNotificationService - StockNotificationService initialized. Email service enabled: false
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.markAsRead' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.saveProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateStockLevel' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.createTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.activateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.deactivateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.DataLoader.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:29 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.SuperAdminInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:30 [restartedMain] [tenant:] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 16:52:32 [restartedMain] [tenant:] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-06-13 16:52:32 [restartedMain] [tenant:] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66a0994f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1161e261, org.springframework.security.web.context.SecurityContextHolderFilter@2527cc48, org.springframework.security.web.header.HeaderWriterFilter@569427ed, org.springframework.web.filter.CorsFilter@c4f2d0b, org.springframework.security.web.authentication.logout.LogoutFilter@6d0157d1, dev.oasis.stockify.config.tenant.TenantHeaderFilter@76c84639, dev.oasis.stockify.config.tenant.TenantSecurityFilter@4c7181bd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7265cf82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@361c622d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ac9420d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@337846e4, org.springframework.security.web.access.ExceptionTranslationFilter@20c5ad0a, org.springframework.security.web.access.intercept.AuthorizationFilter@31c6a6b3]
2025-06-13 16:52:34 [restartedMain] [tenant:] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-13 16:52:34 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-06-13 16:52:34 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Started Stockify in 20.371 seconds (process running for 21.255)
2025-06-13 16:52:34 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.SuperAdminInitializer.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:34 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:34 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(421754203<open>)] for JPA transaction
2025-06-13 16:52:34 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:52:34 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:52:34 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@e7c414]
2025-06-13 16:52:34 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 16:52:34 [restartedMain] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:52:34 [restartedMain] [tenant:stockify] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:52:34 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - 🔧 Creating super admin user in 'stockify' tenant...
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(421754203<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - ✅ Super admin user created successfully in 'stockify' tenant
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - 📋 Super Admin Credentials:
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Tenant: stockify
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Username: superadmin
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Password: superadmin123
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Role: SUPER_ADMIN
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - ⚠️  Please change the password after first login!
2025-06-13 16:52:35 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(421754203<open>)]
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(421754203<open>)] after transaction
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.DataLoader.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@22d60a7c]
2025-06-13 16:52:35 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🚀 Starting Multi-Tenant Data Loader...
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: stockify
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: stockify
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.oasis.stockify.config.DataLoader - 🏛️ Stockify platform tenant - super admin already created by SuperAdminInitializer
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] INFO  d.oasis.stockify.config.DataLoader - ⚙️ Setting up configuration for tenant: stockify
2025-06-13 16:52:35 [restartedMain] [tenant:stockify] WARN  d.oasis.stockify.config.DataLoader - ⚠️ Could not initialize config for tenant stockify: Table "tenant_config" not found; SQL statement:
INSERT INTO tenant_config (config_key, config_value, config_type, description) VALUES ('tenant_name', 'Stockify Platform (Super Admin)', 'STRING', 'Display name for the tenant') ON CONFLICT (config_key) DO NOTHING [42102-224]
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 👥 Creating users for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: admin with role: ADMIN for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: operator with role: USER for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 📦 Creating products for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Handmade Ceramic Mug for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Vintage Style Jewelry Box for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(679804863<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Organic Cotton Tote Bag for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ⚙️ Setting up configuration for tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] WARN  d.oasis.stockify.config.DataLoader - ⚠️ Could not initialize config for tenant acme_corp: Table "tenant_config" not found; SQL statement:
INSERT INTO tenant_config (config_key, config_value, config_type, description) VALUES ('tenant_name', 'ACME Corporation', 'STRING', 'Display name for the tenant') ON CONFLICT (config_key) DO NOTHING [42102-224]
2025-06-13 16:52:35 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✨ Successfully initialized tenant: acme_corp
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: global_trade
2025-06-13 16:52:35 [restartedMain] [tenant:global_trade] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: global_trade
2025-06-13 16:52:35 [restartedMain] [tenant:global_trade] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:global_trade] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:52:35 [restartedMain] [tenant:global_trade] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: global_trade, skipping initialization
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: artisan_crafts
2025-06-13 16:52:35 [restartedMain] [tenant:artisan_crafts] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: artisan_crafts
2025-06-13 16:52:35 [restartedMain] [tenant:artisan_crafts] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:artisan_crafts] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:52:35 [restartedMain] [tenant:artisan_crafts] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: artisan_crafts, skipping initialization
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: tech_solutions
2025-06-13 16:52:35 [restartedMain] [tenant:tech_solutions] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: tech_solutions
2025-06-13 16:52:35 [restartedMain] [tenant:tech_solutions] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:52:35 [restartedMain] [tenant:tech_solutions] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:52:35 [restartedMain] [tenant:tech_solutions] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: tech_solutions, skipping initialization
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - ✅ Multi-Tenant Data Loader completed successfully!
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 📊 Initialized 5 tenants with sample data
2025-06-13 16:52:35 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 👥 Each tenant has 2 users and 3 products
2025-06-13 16:52:35 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(679804863<open>)]
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(679804863<open>)] after transaction
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1874396196<open>)] for JPA transaction
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@46e28bf2]
2025-06-13 16:52:35 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 16:52:35 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1874396196<open>)]
2025-06-13 16:52:35 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1874396196<open>)] after transaction
2025-06-13 16:52:44 [http-nio-8080-exec-1] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-13 16:52:44 [http-nio-8080-exec-1] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-13 16:52:44 [http-nio-8080-exec-1] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-13 16:52:44 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:52:44 [http-nio-8080-exec-1] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:52:44 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:52:44 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:52:44 [http-nio-8080-exec-4] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:52:44 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:52:45 [http-nio-8080-exec-4] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:52:45 [http-nio-8080-exec-4] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:52:45 [http-nio-8080-exec-9] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:52:45 [http-nio-8080-exec-9] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:52:45 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:52:45 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:52:45 [http-nio-8080-exec-2] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:52:45 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:52:45 [http-nio-8080-exec-2] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:52:45 [http-nio-8080-exec-2] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Login request detected, using tenant_id from form parameter: stockify
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: stockify
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.service.AppUserDetailsService.loadUserByUsername]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: stockify (from context: stockify)
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(791798862<open>)] for JPA transaction
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: stockify
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: STOCKİFY and ensured table structure
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG o.s.jdbc.datasource.DataSourceUtils - Setting JDBC Connection [HikariProxyConnection@1162480020 wrapping conn0: url=jdbc:h2:mem:stockifydb user=SA] read-only
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@78a77d77]
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.AppUserDetailsService.loadUserByUsername]
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG d.o.s.service.AppUserDetailsService - Using existing tenant context: stockify
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG d.o.s.service.AppUserDetailsService - Login attempt - Username: superadmin, Tenant: stockify
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] ERROR d.o.s.service.AppUserDetailsService - Error during user authentication - Username: superadmin, Tenant: stockify, Error: Kullanıcı bulunamadı: superadmin (Tenant: stockify)
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:stockify] ERROR d.o.s.service.AppUserDetailsService - Authentication error: Kullanıcı bilgileri doğrulanamadı
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.AppUserDetailsService.loadUserByUsername] after exception: org.springframework.security.core.userdetails.UsernameNotFoundException: Kullanıcı bilgileri doğrulanamadı
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction rollback
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Rolling back JPA transaction on EntityManager [SessionImpl(791798862<open>)]
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:] DEBUG o.s.jdbc.datasource.DataSourceUtils - Resetting read-only flag of JDBC Connection [HikariProxyConnection@1162480020 wrapping conn0: url=jdbc:h2:mem:stockifydb user=SA]
2025-06-13 16:53:05 [http-nio-8080-exec-6] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(791798862<open>)] after transaction
2025-06-13 16:53:06 [http-nio-8080-exec-7] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:53:06 [http-nio-8080-exec-7] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:53:06 [http-nio-8080-exec-7] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:53:06 [http-nio-8080-exec-7] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:53:06 [http-nio-8080-exec-7] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:53:06 [http-nio-8080-exec-7] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:53:06 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:53:06 [http-nio-8080-exec-8] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:53:06 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:53:06 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:53:06 [http-nio-8080-exec-10] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:53:06 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:53:06 [http-nio-8080-exec-10] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:53:06 [http-nio-8080-exec-10] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:54:50 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:54:50 [http-nio-8080-exec-3] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:54:50 [http-nio-8080-exec-6] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:54:50 [http-nio-8080-exec-6] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:54:50 [http-nio-8080-exec-6] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:54:50 [http-nio-8080-exec-6] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:54:50 [http-nio-8080-exec-6] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:54:50 [http-nio-8080-exec-6] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:54:53 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:54:53 [http-nio-8080-exec-8] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:54:53 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:54:53 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:54:53 [http-nio-8080-exec-10] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:54:53 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:54:53 [http-nio-8080-exec-10] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:54:53 [http-nio-8080-exec-10] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:54:54 [http-nio-8080-exec-6] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:54:54 [http-nio-8080-exec-6] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 16:54:54 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 16:54:54 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 16:54:54 [http-nio-8080-exec-3] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:54:54 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 16:54:54 [http-nio-8080-exec-3] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 16:54:54 [http-nio-8080-exec-3] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:41:06 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Starting Stockify using Java 17.0.12 with PID 2000 (C:\Users\ozdem\IdeaProjects\STOCKIFY\target\classes started by ozdem in C:\Users\ozdem\IdeaProjects\STOCKIFY)
2025-06-13 17:41:06 [restartedMain] [tenant:] DEBUG dev.oasis.stockify.Stockify - Running with Spring Boot v3.2.1, Spring v6.1.2
2025-06-13 17:41:06 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - The following 1 profile is active: "dev"
2025-06-13 17:41:06 [restartedMain] [tenant:] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-06-13 17:41:06 [restartedMain] [tenant:] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-06-13 17:41:08 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-13 17:41:08 [restartedMain] [tenant:] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 3 JPA repository interfaces.
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.17]
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3056 ms
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:stockifydb user=SA
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-13 17:41:09 [restartedMain] [tenant:] INFO  o.s.b.a.h.H2ConsoleAutoConfiguration - H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:stockifydb'
2025-06-13 17:41:10 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantSecurityFilter - Filter 'tenantSecurityFilter' configured for use
2025-06-13 17:41:10 [restartedMain] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Filter 'tenantHeaderFilter' configured for use
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - Flyway Community Edition 9.22.3 by Redgate
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - See release notes here: https://rd.gt/416ObMi
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.c.i.license.VersionPrinter - 
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:h2:mem:stockifydb (H2 2.2)
2025-06-13 17:41:10 [restartedMain] [tenant:] WARN  o.f.c.i.database.base.Database - Flyway upgrade recommended: H2 2.2.224 is newer than this version of Flyway and support has not been tested. The latest supported version of H2 is 2.2.220.
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "PUBLIC"."flyway_schema_history" does not exist yet
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbValidate - Successfully validated 1 migration (execution time 00:00.032s)
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "PUBLIC"."flyway_schema_history" ...
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "PUBLIC": << Empty Schema >>
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "PUBLIC" to version "1 - init schema"
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "PUBLIC", now at version v1 (execution time 00:00.051s)
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Configuring Hibernate multi-tenancy properties
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  d.o.stockify.config.HibernateConfig - Multi-tenancy configuration completed
2025-06-13 17:41:10 [restartedMain] [tenant:] DEBUG o.s.o.j.LocalContainerEntityManagerFactoryBean - Building JPA container EntityManagerFactory for persistence unit 'default'
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.4.1.Final
2025-06-13 17:41:10 [restartedMain] [tenant:] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-13 17:41:11 [restartedMain] [tenant:] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-13 17:41:11 [restartedMain] [tenant:] WARN  org.hibernate.orm.deprecation - HHH90000025: H2Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-13 17:41:12 [restartedMain] [tenant:] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-13 17:41:12 [restartedMain] [tenant:] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:12 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.AppUserDetailsService.loadUserByUsername' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG o.s.o.j.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler - Creating new EntityManager for shared EntityManager invocation
2025-06-13 17:41:13 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:13 [restartedMain] [tenant:] INFO  d.o.s.s.StockNotificationService - StockNotificationService initialized. Email service enabled: false
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.markAsRead' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.saveProduct' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.ProductService.updateStockLevel' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.createTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.deactivateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.service.TenantManagementService.activateTenant' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.DataLoader.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:13 [restartedMain] [tenant:] TRACE o.s.t.a.AnnotationTransactionAttributeSource - Adding transactional method 'dev.oasis.stockify.config.SuperAdminInitializer.run' with attribute: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:14 [restartedMain] [tenant:] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-13 17:41:15 [restartedMain] [tenant:] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
2025-06-13 17:41:15 [restartedMain] [tenant:] INFO  o.s.s.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b93ded0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3afcea9, org.springframework.security.web.context.SecurityContextHolderFilter@4cd634fd, org.springframework.security.web.header.HeaderWriterFilter@452f0216, org.springframework.web.filter.CorsFilter@4c713189, org.springframework.security.web.authentication.logout.LogoutFilter@2deb6472, dev.oasis.stockify.config.tenant.TenantHeaderFilter@7e3c338b, dev.oasis.stockify.config.tenant.TenantSecurityFilter@219a8137, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7a1c95f0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f868d26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c9640a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ca8857b, org.springframework.security.web.access.ExceptionTranslationFilter@6b09c49, org.springframework.security.web.access.intercept.AuthorizationFilter@1baccf32]
2025-06-13 17:41:16 [restartedMain] [tenant:] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-06-13 17:41:16 [restartedMain] [tenant:] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path ''
2025-06-13 17:41:16 [restartedMain] [tenant:] INFO  dev.oasis.stockify.Stockify - Started Stockify in 11.15 seconds (process running for 11.692)
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.SuperAdminInitializer.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(709305209<open>)] for JPA transaction
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@46b8ce6d]
2025-06-13 17:41:17 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - 🔧 Creating super admin user in 'stockify' tenant...
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(709305209<open>)] for JPA transaction
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - ✅ Super admin user created successfully in 'stockify' tenant
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - 📋 Super Admin Credentials:
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Tenant: stockify
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Username: superadmin
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Password: superadmin123
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer -    Role: SUPER_ADMIN
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.o.s.config.SuperAdminInitializer - ⚠️  Please change the password after first login!
2025-06-13 17:41:17 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.SuperAdminInitializer.run]
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(709305209<open>)]
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(709305209<open>)] after transaction
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [dev.oasis.stockify.config.DataLoader.run]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 17:41:17 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@56f9cb0b]
2025-06-13 17:41:17 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 17:41:17 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🚀 Starting Multi-Tenant Data Loader...
2025-06-13 17:41:17 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: stockify
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: stockify
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.oasis.stockify.config.DataLoader - 🏛️ Stockify platform tenant - super admin already created by SuperAdminInitializer
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] INFO  d.oasis.stockify.config.DataLoader - ⚙️ Setting up configuration for tenant: stockify
2025-06-13 17:41:17 [restartedMain] [tenant:stockify] WARN  d.oasis.stockify.config.DataLoader - ⚠️ Could not initialize config for tenant stockify: Table "tenant_config" not found; SQL statement:
INSERT INTO tenant_config (config_key, config_value, config_type, description) VALUES ('tenant_name', 'Stockify Platform (Super Admin)', 'STRING', 'Display name for the tenant') ON CONFLICT (config_key) DO NOTHING [42102-224]
2025-06-13 17:41:17 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: acme_corp
2025-06-13 17:41:17 [restartedMain] [tenant:acme_corp] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: acme_corp
2025-06-13 17:41:17 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 17:41:17 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 17:41:17 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 👥 Creating users for tenant: acme_corp
2025-06-13 17:41:17 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 17:41:17 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: admin with role: ADMIN for tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into app_user (created_at,is_active,last_login,password,role,updated_at,username,id) values (?,?,?,?,?,?,?,default)
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created user: operator with role: USER for tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - 📦 Creating products for tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Handmade Ceramic Mug for tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Vintage Style Jewelry Box for tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findBySku]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - select p1_0.id,p1_0.category,p1_0.created_at,p1_0.created_by,p1_0.description,p1_0.etsy_product_id,p1_0.is_active,p1_0.is_featured,p1_0.low_stock_threshold,p1_0.price,p1_0.sku,p1_0.stock_level,p1_0.title,p1_0.updated_at,p1_0.updated_by from product p1_0 where p1_0.sku=?
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Found thread-bound EntityManager [SessionImpl(923406362<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] DEBUG o.s.orm.jpa.JpaTransactionManager - Participating in existing transaction
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.StockNotificationService.checkAndCreateLowStockNotification]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.service.ProductService.saveProduct]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✅ Created product: Organic Cotton Tote Bag for tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ⚙️ Setting up configuration for tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] WARN  d.oasis.stockify.config.DataLoader - ⚠️ Could not initialize config for tenant acme_corp: Table "tenant_config" not found; SQL statement:
INSERT INTO tenant_config (config_key, config_value, config_type, description) VALUES ('tenant_name', 'ACME Corporation', 'STRING', 'Display name for the tenant') ON CONFLICT (config_key) DO NOTHING [42102-224]
2025-06-13 17:41:18 [restartedMain] [tenant:acme_corp] INFO  d.oasis.stockify.config.DataLoader - ✨ Successfully initialized tenant: acme_corp
2025-06-13 17:41:18 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: global_trade
2025-06-13 17:41:18 [restartedMain] [tenant:global_trade] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: global_trade
2025-06-13 17:41:18 [restartedMain] [tenant:global_trade] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:global_trade] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 17:41:18 [restartedMain] [tenant:global_trade] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: global_trade, skipping initialization
2025-06-13 17:41:18 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: artisan_crafts
2025-06-13 17:41:18 [restartedMain] [tenant:artisan_crafts] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: artisan_crafts
2025-06-13 17:41:18 [restartedMain] [tenant:artisan_crafts] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:artisan_crafts] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 17:41:18 [restartedMain] [tenant:artisan_crafts] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: artisan_crafts, skipping initialization
2025-06-13 17:41:18 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 🏢 Initializing data for tenant: tech_solutions
2025-06-13 17:41:18 [restartedMain] [tenant:tech_solutions] DEBUG d.oasis.stockify.config.DataLoader - 🏗️ Schema ensured for tenant: tech_solutions
2025-06-13 17:41:18 [restartedMain] [tenant:tech_solutions] TRACE o.s.t.i.TransactionInterceptor - No need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUsername]: This method is not transactional.
2025-06-13 17:41:18 [restartedMain] [tenant:tech_solutions] DEBUG org.hibernate.SQL - select au1_0.id,au1_0.created_at,au1_0.is_active,au1_0.last_login,au1_0.password,au1_0.role,au1_0.updated_at,au1_0.username from app_user au1_0 where au1_0.username=?
2025-06-13 17:41:18 [restartedMain] [tenant:tech_solutions] INFO  d.oasis.stockify.config.DataLoader - 📋 Data already exists for tenant: tech_solutions, skipping initialization
2025-06-13 17:41:18 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - ✅ Multi-Tenant Data Loader completed successfully!
2025-06-13 17:41:18 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 📊 Initialized 5 tenants with sample data
2025-06-13 17:41:18 [restartedMain] [tenant:] INFO  d.oasis.stockify.config.DataLoader - 👥 Each tenant has 2 users and 3 products
2025-06-13 17:41:18 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [dev.oasis.stockify.config.DataLoader.run]
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(923406362<open>)]
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(923406362<open>)] after transaction
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Creating new transaction with name [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: null)
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Opened new EntityManager [SessionImpl(1450337007<open>)] for JPA transaction
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Getting connection for tenant: public
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG d.o.s.c.t.SchemaMultiTenantConnectionProvider - Successfully set connection schema to: PUBLİC and ensured table structure
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@5d7ebc5b]
2025-06-13 17:41:18 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG org.hibernate.SQL - insert into product (category,created_at,created_by,description,etsy_product_id,is_active,is_featured,low_stock_threshold,price,sku,stock_level,title,updated_at,updated_by,id) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,default)
2025-06-13 17:41:18 [restartedMain] [tenant:] TRACE o.s.t.i.TransactionInterceptor - Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Initiating transaction commit
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Committing JPA transaction on EntityManager [SessionImpl(1450337007<open>)]
2025-06-13 17:41:18 [restartedMain] [tenant:] DEBUG o.s.orm.jpa.JpaTransactionManager - Closing JPA EntityManager [SessionImpl(1450337007<open>)] after transaction
2025-06-13 17:41:37 [http-nio-8080-exec-1] [tenant:] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-13 17:41:37 [http-nio-8080-exec-1] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-13 17:41:37 [http-nio-8080-exec-1] [tenant:] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 0 ms
2025-06-13 17:41:38 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:41:38 [http-nio-8080-exec-1] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:41:38 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:41:38 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 17:41:38 [http-nio-8080-exec-3] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:41:38 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 17:41:38 [http-nio-8080-exec-3] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:41:38 [http-nio-8080-exec-3] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:41:38 [http-nio-8080-exec-4] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:41:38 [http-nio-8080-exec-4] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:41:38 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:41:38 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 17:41:38 [http-nio-8080-exec-2] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:41:38 [http-nio-8080-exec-2] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 17:41:38 [http-nio-8080-exec-2] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:41:38 [http-nio-8080-exec-2] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:41:42 [http-nio-8080-exec-10] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:41:42 [http-nio-8080-exec-10] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:41:42 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:41:42 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 17:41:42 [http-nio-8080-exec-1] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:41:42 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 17:41:42 [http-nio-8080-exec-1] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:41:42 [http-nio-8080-exec-1] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:42:16 [http-nio-8080-exec-7] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:42:16 [http-nio-8080-exec-7] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:42:16 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:42:16 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 17:42:16 [http-nio-8080-exec-8] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:42:16 [http-nio-8080-exec-8] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 17:42:16 [http-nio-8080-exec-8] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:42:16 [http-nio-8080-exec-8] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:42:18 [http-nio-8080-exec-1] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:42:18 [http-nio-8080-exec-1] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
2025-06-13 17:42:18 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Set tenant context to: public
2025-06-13 17:42:18 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.tenant.TenantInterceptor - 🏢 Using default tenant: public
2025-06-13 17:42:18 [http-nio-8080-exec-3] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:42:18 [http-nio-8080-exec-3] [tenant:public] DEBUG d.o.s.c.t.CurrentTenantIdentifierResolverImpl - Resolving tenant identifier: public (from context: public)
2025-06-13 17:42:18 [http-nio-8080-exec-3] [tenant:public] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-06-13 17:42:18 [http-nio-8080-exec-3] [tenant:] DEBUG d.o.s.c.tenant.TenantHeaderFilter - Cleared tenant context after non-login request
